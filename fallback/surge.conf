[General]
# æ—¥å¿—ç­‰çº§ï¼Œverbose > info > notify > warning
loglevel = warning
# æ··åˆä»£ç†æ¨¡å¼
all-hybrid = false
# UDP ä¼˜å…ˆå¤„ç†
udp-priority = false
# DNS æœåŠ¡å™¨ï¼Œä»Ž Surge iOS 4 / Surge Mac 3.3.0 èµ·ï¼Œå·¥å…·å¼€å§‹æ”¯æŒ DoH
# doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query
# https://dns.alidns.com/dns-query, https://doh.360.cn/dns-query, https://dns.google/dns-query
dns-server = 223.6.6.6, 119.29.29.29
# > ä»Ž /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# åŒ¹é…ä»£ç†æ—¶ï¼Œdns è¿œç¨‹è§£æž
use-local-host-item-for-proxy = true
encrypted-dns-follow-outbound-mode = false
include-all-networks = false
# tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
# è·³è¿‡ä»£ç†ï¼ˆéžå¢žå¼ºæ¨¡å¼ç”Ÿæ•ˆï¼‰
skip-proxy = localhost, *.local, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, 162.14.0.0/16, 211.99.96.0/19, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, fc00::/7, fe80::/10, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›žé”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# hijack-dns = \*:53
# åœ¨Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿žæŽ¥
wifi-assist = false
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOS)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
force-http-engine-hosts = *.ott.cibntv.net
http-api = Ct3hagHA8G9Sid@127.0.0.1:6171
# > TCP Force HTTP Hosts
# è®©SurgeæŠŠTCPè¿žæŽ¥å½“ä½œHTTPè¯·æ±‚æ¥å¤„ç†
# Surge HTTPå¼•æ“Žå°†å¤„ç†è¿™äº›è¯·æ±‚
# > HTTP-API, å¯ä»¥è®©å¦ä¸€ä¸ªAppæˆ–è€…è®¾å¤‡é€šè¿‡HTTP APIæŽ§åˆ¶SurgeåŠŸèƒ½
# ä¾æ¬¡ä¸ºï¼šå¯†ç ï¼Œä¸»æœºåï¼Œç«¯å£
external-controller-access = Ct3hagHA8G9Sid@0.0.0.0:9090
http-api-tls = true
# è¿œç¨‹æŽ§åˆ¶å™¨, å…è®¸Surgeè¯·æ±‚æŸ¥çœ‹å™¨æˆ–Surge CIè¿›è¡Œç®¡ç†æŽ§åˆ¶
http-api-web-dashboard = true
# replica = false
# TLS å¼•æ“Ž
# tls-provider = openssl
# > æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false
ipv6-vif = disabled
# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
# compatibility-mode = 0
test-timeout = 3
# network-framework = false
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
#internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://www.gstatic.com/generate_204
proxy-test-udp = www.apple.com@64.6.64.6
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# > ä»£ç†æµ‹é€Ÿ URL
# proxy-test-url = http://cp.cloudflare.com/generate_204
# proxy-test-url = http://www.google.com/generate_204
# è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
# geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# geoip-maxmind-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# geoip-maxmind-url = https://ghp.ci/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# > macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†127.0.0.1æ”¹ä¸º0.0.0.0
http-listen = 127.0.0.1:1090
socks5-listen = 127.0.0.1:1080

use-default-policy-if-wifi-not-primary = false
udp-policy-not-supported-behaviour = REJECT

encrypted-dns-server = quic://223.5.5.5, quic://223.6.6.6, https://1.12.12.12/dns-query, https://120.53.53.53/dns-query
# hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# è®© Surge åŠ«æŒç›®æ ‡ä¸º 8.8.8.8 å’Œ 8.8.4.4 çš„ 53 ç«¯å£ï¼Œè§£å†³ Google ç³»å®¶ç”¨äº§å“ï¼ˆå¦‚ Chromecastï¼‰å¼ºåˆ¶ä½¿ç”¨ 8.8.8.8 å’Œ 8.8.4.4ã€ä¸ä½¿ç”¨ Surge DNS çš„é—®é¢˜ã€‚

[Proxy Group]
# Proxy = select, policy-path=è®¢é˜…åœ°å€, update-interval=0, no-alert=0, hidden=0
Proxy = select, AutoTest, HK, TW, SG, JP, US, DIRECT, å¤‡ç”¨èŠ‚ç‚¹, policy-path=sf.conf, update-interval=0, persistent=1
AutoTest = smart, policy-path=sf.conf, update-interval=0, interval=600, timeout=3, tolerance=50
US = smart, policy-path=sf.conf, update-interval=0, policy-regex-filter=(ç¾Ž|ç¾Žå›½|ðŸ‡ºðŸ‡¸|US|us), tolerance=50, timeout=3
HK = smart, policy-path=sf.conf, update-interval=0, policy-regex-filter=(HK|é¦™æ¸¯|ðŸ‡­ðŸ‡°ðŸ‡°ï¸|Hongkong), timeout=3, tolerance=50
TW = smart, policy-path=sf.conf, update-interval=0, policy-regex-filter=(å°|å°æ¹¾|TW), timeout=3, tolerance=50
JP = smart, policy-path=sf.conf, update-interval=0, policy-regex-filter=(æ—¥æœ¬|ðŸ‡¯ðŸ‡µ|JP)
SG = smart, policy-path=sf.conf, update-interval=0, policy-regex-filter=(ç‹®åŸŽ|æ–°åŠ å¡|ðŸ‡¸ðŸ‡¬|SG), timeout=3, tolerance=50

YouTube = select, Proxy, AutoTest
Netflix = select, TW, SG, Proxy
Spotify = select, DIRECT, Proxy, HK
Apple = select, DIRECT, Proxy, US, no-alert=0, hidden=1, include-all-proxies=0
Speedtest = select, DIRECT, Proxy, no-alert=0, hidden=0, include-all-proxies=0
Telegram = select, Proxy, SG, US, HK, TW, JP, no-alert=0, hidden=0, include-all-proxies=0
Twitter = select, Proxy, HK, TW, SG, JP, US, no-alert=0, hidden=0, include-all-proxies=0
AI = select, US, JP, SG, no-alert=0, hidden=0, include-all-proxies=0
Bing = select, DIRECT, HK, SG, US
OneDrive = select, DIRECT, HK, SG, US, hidden=1
NoMatch = select, DIRECT, Proxy

å¤‡ç”¨èŠ‚ç‚¹ = select, policy-path=bg.conf, update-interval=0

[Rule]
DOMAIN-SUFFIX,micu.hk,DIRECT
DOMAIN-SUFFIX,miwifi.com,DIRECT
DOMAIN-SUFFIX,hanime1.me,HK
DOMAIN-SUFFIX,yuyan.online,Proxy
DOMAIN-SUFFIX,ruishihui.com,DIRECT
DOMAIN,video1.beijcloud.com,DIRECT
DOMAIN-SUFFIX,mitang.tv,DIRECT
DOMAIN-SUFFIX,xiaomi.eu,Proxy
DOMAIN-SUFFIX,ffzy-online5.com,DIRECT
DOMAIN-SUFFIX,cnki.net,DIRECT
DOMAIN-SUFFIX,wanfangtech.net,DIRECT
DOMAIN-SUFFIX,landiannews.com,DIRECT
DOMAIN,desktop.parallels.com,REJECT
DOMAIN-SUFFIX,paperyy.com,DIRECT
DOMAIN-SUFFIX,todesk.com,DIRECT
DOMAIN-SUFFIX,jisuts.com,DIRECT
DOMAIN-SUFFIX,jszyplay.com,DIRECT
DOMAIN-SUFFIX,akamaized.net,DIRECT
DOMAIN-SUFFIX,deepseek.com,DIRECT
DOMAIN-SUFFIX,shejiben.com,DIRECT
DOMAIN-SUFFIX,tuozhe8.com,DIRECT
DOMAIN,flomoapp.com,DIRECT
DOMAIN-SUFFIX,midea.com.cn,DIRECT
DOMAIN-SUFFIX,yeelight.com,DIRECT
DOMAIN-SUFFIX,kujiale.com,DIRECT
# è‡ªå®šä¹‰è§„åˆ™
# å®žç”¨è§„åˆ™ç‰‡æ®µé›†
# RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Surge/Basic/Apple-News.list,Proxy
# ---å†…ç½®è§„åˆ™é›†---
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT
# ban UDP on Youtube
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# ban National Anti-fraud Center
DOMAIN,prpr.96110.cn.com,DIRECT
DOMAIN-KEYWORD,96110,REJECT
DOMAIN-SUFFIX,gjfzpt.cn,REJECT
# > ðŸ†• æ‹’ç»å›½å®¶åè¯ˆä¸­å¿ƒè¯·æ±‚
DOMAIN-SUFFIX,gjfzpt.cn,REJECT
# SYSTEM
# > åŒ…å«äº†ç»å¤§å¤šæ•°æ¥è‡ªmacOSå’ŒiOSç³»ç»Ÿæœ¬èº«æ‰€å‘é€çš„è¯·æ±‚
RULE-SET,SYSTEM,DIRECT
DOMAIN,ess.apple.com,DIRECT
PROCESS-NAME,maps,DIRECT
DOMAIN-KEYWORD,courier.push.apple.com,DIRECT
DOMAIN-KEYWORD,apac-china-courier,DIRECT
DOMAIN,clash.razord.top,DIRECT
DOMAIN,yacd.haishan.me,DIRECT
# è‡ªå®šä¹‰æœåŠ¡
DOMAIN-SUFFIX,jdl.com,DIRECT
DOMAIN-SUFFIX,netflixtown.com,DIRECT
DOMAIN-SUFFIX,zxxk.com,DIRECT
DOMAIN-SUFFIX,qcc.com,DIRECT
DOMAIN-SUFFIX,mini4k.com,DIRECT


# > KEYWORD
DOMAIN-KEYWORD,docker,Proxy
DOMAIN-KEYWORD,mastodon,Proxy // Added for: files.mastodon.social:443
DOMAIN-KEYWORD,techhub.social,Proxy // Added for: techhub.social:443
DOMAIN-KEYWORD,macked,Proxy
DOMAIN-KEYWORD,leensasf,Proxy
# > SUFFIX
DOMAIN-SUFFIX,nssurge.com,Proxy // Added for: nssurge.com:443
DOMAIN-SUFFIX,surgee.me,Proxy
DOMAIN-SUFFIX,st7eve.me,Proxy
DOMAIN-SUFFIX,www.torrentmac.net,Proxy
DOMAIN-SUFFIX,cloudflare.com,Proxy // Added for: www.cloudflare.com:443
DOMAIN-SUFFIX,appstorrent.ru,DIRECT // ä¿„ç½—æ–¯ MacAPP
# > DOMAIN
DOMAIN,jable.tv,Proxy // Added for: jable.tv:80
DOMAIN,api.amplitude.com,Proxy
DOMAIN,api.revenuecat.com,REJECT
DOMAIN,m.cmx.im,Proxy // Added for: m.cmx.im:443
# > Adblock4limbo
RULE-SET,https://limbopro.com/Adblock4limbo_surge.list,REJECT


# Non IP
RULE-SET,https://ruleset.skk.moe/List/non_ip/lan.conf,DIRECT
# IP
RULE-SET,https://ruleset.skk.moe/List/ip/lan.conf,DIRECT
# > Github
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Proxy
# > OneDrive
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OneDrive/OneDrive.list,OneDrive
# > Apple
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,DIRECT
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppStore/AppStore.list,DIRECT
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleTV/AppleTV.list,Apple
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
# > Bing
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bing/Bing.list,AI
# > Tesla
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Tesla/Tesla.list,DIRECT
# > Twitter
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT
# > ban UDP on Youtube
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# > Vercel --> sub-store
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/getsomecat/GetSomeCats/Surge/rule/substore.list,Proxy
DOMAIN-SUFFIX,vercel.app,Proxy
# > æµåª’ä½“
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify
# > Netflix
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix
# > Speedtest
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/speedtest.conf,Speedtest,extended-matching
# > > Youtube & Google Search
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleSearch/GoogleSearch.list,YouTube

# > AI åŒ…å« OpenAIã€Bardã€Claudeã€Perplexity ç­‰
DOMAIN-SUFFIX,googleapis.com,AI // Gemini
RULE-SET,https://ruleset.skk.moe/List/non_ip/ai.conf,AI
# > Telegram
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,Telegram
RULE-SET,https://ruleset.skk.moe/List/ip/telegram.conf,Telegram
RULE-SET,https://ruleset.skk.moe/List/ip/telegram_asn.conf,Telegram
# > Non IP
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT-TINYGIF
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT

DOMAIN-SUFFIX,apple.com,DIRECT
DOMAIN-SUFFIX,parallels.com,Proxy
DOMAIN-SUFFIX,sourceforge.net,Proxy
DOMAIN-SUFFIX,macserialjunkie.com,Proxy
DOMAIN-SUFFIX,xxx5217.com,Proxy
DOMAIN-SUFFIX,brew.sh,Proxy
DOMAIN-SUFFIX,docker.io,Proxy
DOMAIN,raw.githubusercontent.com,Proxy
DOMAIN-SUFFIX,cocopilot.org,Proxy
DOMAIN-SUFFIX,google.com,Proxy
DOMAIN-SUFFIX,github.com,Proxy
DOMAIN-KEYWORD,github,Proxy
DOMAIN,content-autofill.googleapis.com,Proxy
DOMAIN,avatars.githubusercontent.com,Proxy
DOMAIN,raw.githubusercontent.com,Proxy
DOMAIN,github.githubassets.com,Proxy
DOMAIN-SUFFIX,terabox.com,Proxy
DOMAIN-SUFFIX,nssurge.com,Proxy
DOMAIN,plugins.jetbrains.com,Proxy // IDEAæ’ä»¶å¼ºåˆ¶èµ°ä»£ç†
DOMAIN,cdn-fastly.obsproject.com,Proxy
DOMAIN,avatars.githubusercontent.com,Proxy
DOMAIN,public-lumina.hex-rays.com,Proxy
DOMAIN,dl.google.com,DIRECT
DOMAIN,repo.maven.apache.org,Proxy
DOMAIN-KEYWORD,google.com,Proxy
DOMAIN-SUFFIX,claude.ai,Proxy
DOMAIN-SUFFIX,maven.apache.org,DIRECT
RULE-SET,https://ruleset.skk.moe/List/non_ip/sogouinput.conf,REJECT-DROP # REJECT-DROP, DIRECT
#DOMAIN-SET,https://ghp.ci/https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/direct.txt,DIRECT // ç›´è¿žåŸŸååˆ—è¡¨
#DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT // ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
#DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/apple.txt,DIRECT // Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿žçš„åŸŸååˆ—è¡¨
#DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/icloud.txt,DIRECT // iCloud åŸŸååˆ—è¡¨ icloud.txt
#DOMAIN-SET,https://ghp.ci/https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/proxy.txt,Proxy // ä»£ç†åŸŸååˆ—è¡¨
DOMAIN-SET,https://ghp.ci/https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/tld-not-cn.txt,Proxy // éžä¸­å›½å¤§é™†ä½¿ç”¨çš„é¡¶çº§åŸŸååˆ—è¡¨

RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,Proxy
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT

GEOIP,CN,DIRECT,no-resolve
# >  å…œåº•è§„åˆ™
FINAL,NoMatch,dns-failed

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.alipay.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*testflight.apple.com = server:8.8.4.4
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router

[URL Rewrite]
# > Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
# > Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
# > Redirect HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com\/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com\/ https://yhd.com/ 302
# > AbeamTV header
^https?:\/\/api\.abema\.io\/v\d\/ip\/check - reject
# Wikipedia_to_Wikiwand
^https://(\w*).(m.)?wikipedia.org/wiki https://www.wikiwand.com/$1 302
^https://zh.(m.)?wikipedia.org/(zh-hans|zh-sg|zh-cn|zh(?=/)) https://www.wikiwand.com/zh 302
^https://zh.(m.)?wikipedia.org/zh-[a-zA-Z]{2,} https://www.wikiwand.com/zh-hant 302
# Redirect_False_to_True
# - IGN_China_to_IGN_Global header
^https?://(www.)?ign.xn--fiqs8s/ http://cn.ign.com/ccpref/us 302
# - Fake_Website_Made_By_Makeding header
^https?://(www.)?huishenghuiying.com.cn/ https://www.corel.com/cn/ 302
^https?://(www.)?vegaschina.cn/ https://www.vegas.com/ 302
^https?://(www.)?ediuschina.com/ https://www.grassvalley.com/ 302
^https?://(www.)?mindmanager.cc/ https://www.mindjet.com/ 302
^https?://(www.)?xmindchina.net/ https://www.xmind.cn/ 302
^https?://(www.)?imindmap.cc/ https://imindmap.com/zh-cn/ 302
^https?://(www.)?flstudiochina.com/ https://www.image-line.com/flstudio/ 302
^https?://(www.)?guitarpro.cc/ https://www.guitar-pro.com/ 302
^https?://(www.)?overturechina.com/ https://sonicscores.com/overture/ 302
^https?://(www.)?mycleanmymac.com/ https://macpaw.com/cleanmymac 302
^https?://(www.)?ntfsformac.cn/ https://www.paragon-software.com/ufsdhome/zh/ntfs-mac/ 302
^https?://(www.)?ntfsformac.cc/ https://www.tuxera.com/ 302
^https?://(www.)?crossoverchina.com/ https://www.codeweavers.com/ 302
^https?://(www.)?mathtype.cn/ http://www.dessci.com/en/products/mathtype/ 302
^https?://(www.)?chemdraw.com.cn/ http://www.cambridgesoft.com/ 302
^https?://(www.)?jihehuaban.com.cn/ https://sketch.io/ 302
^https?://(www.)?coreldrawchina.com/ https://www.coreldraw.com/cn/ 302
^https?://(www.)?keyshot.cc/ https://www.keyshot.com/ 302
^https?://(www.)?zbrushcn.com/ http://pixologic.com/ 302
^https?://(www.)?bartender.cc/ https://www.seagullscientific.com/ 302
^https?://(www.)?codesoftchina.com/ https://www.teklynx.com/ 302
^https?://(www.)?nicelabel.cc/ https://www.nicelabel.com/ 302
^https?://(www.)?abbyychina.com/ http://www.abbyy.cn/ 302
^https?://(www.)?beyondcompare.cc/ https://www.scootersoftware.com/ 302
^https?://(www.)?yuanchengxiezuo.com/ https://www.teamviewer.com/zhcn/ 302
^https?://(www.)?xshellcn.com/ https://www.netsarang.com/ 302
^https?://(www.)?easyrecoverychina.com/ https://www.ontrack.com/ 302
^https?://(www.)?bingdianhuanyuan.cn/ http://www.faronics.com/zh-hans/ 302
^https?://(www.)?betterzip.net/ https://macitbetter.com/ 302
^https?://(www.)?xshellcn.com/ https://www.netsarang.com/products/xsh_overview.html 302
# Advertisement_Protection
# - Google header
^https?://premiumyva.appspot.com/vmclickstoadvertisersite - reject
^https?://s.youtube.com/.+&adformat= - reject
^https?://www.googleapis.com/adsmeasurement/ - reject
^https?://www.youtube.com/api/stats/ads - reject
^https?://www.youtube.com/pagead/ - reject
^https?://youtubei.googleapis.com/youtubei/v1/log_event\? - reject
^https?://youtubei.googleapis.com/youtubei/v1/log_interaction\? - reject
# - Baidu header
^https?://update.pan.baidu.com/statistics - reject
^https?://issuecdn.baidupcs.com/issue/netdisk/guanggao/ - reject
# - Tencent header
^https?://mp.weixin.qq.com/mp/ad_complaint - reject
^https?://mtteve.beacon.qq.com/analytics - reject
^https?://mp.weixin.qq.com/mp/advertisement_report - reject
^https?://mp.weixin.qq.com/mp/ad_video - reject
# - iQiyi header
^https?://.+/videos/other/.+\.(mp4|f4v) - reject
# - Le header
^https?://.+/letv-gug/ - reject
# - Youku header
^https?://.+\.mp4\?ccode=0902 - reject
^https?://.+\.mp4\?sid= - reject
# - CMVideo header
^https?://ggv.cmvideo.cn/v1/iflyad/ - reject
^https?://.+/v1/iflyad/ - reject
^https?://ggic.cmvideo.cn/ad/ - reject
^https?://ggic2.cmvideo.cn/ad/ - reject
^https?://.+/img/ad\.union\.api/ - reject
# - 163 header
^https?://oimage([a-z])([0-9]).ydstatic.com/.+?&product=adpublish - reject
^https?://dsp-impr2.youdao.com/adload.s\? - reject
^https?://.+/eapi/ad/ - reject
^https?://c.m.163.com/nc/gl/ - reject
^https?://client.mail.163.com/apptrack/confinfo/searchMultiAds - reject
# - Sohu header
^https?://api.k.sohu.com/api/news/adsense - reject
^https?://pic.k.sohu.com/img8/wb/tj/ - reject
^https?://hui.sohu.com/predownload2/\? - reject
# - MI header
^https?://api-mifit.huami.com/discovery/mi/discovery/homepage_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/sleep_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/sport_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/sport_summary_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/sport_training_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/step_detail_ad\? - reject
^https?://api-mifit.huami.com/discovery/mi/discovery/training_video_ad\? - reject
# - Wifi8 header
^https?://cmsapi.wifi8.com/v1/emptyAd/info - reject
^https?://cmsapi.wifi8.com/v2/adNew/config - reject
# - PConline header
^https?://ivy.pchouse.com.cn/adpuba/ - reject
^https?://agent-count.pconline.com.cn/counter/adAnalyse/ - reject
# - 4GTV header
^https?://service.4gtv.tv/4gtv/Data/GetAD - reject
^https?://service.4gtv.tv/4gtv/Data/ADLog - reject
# - ofo header
^https?://supportda.ofo.com/adaction\? - reject
^https?://ma.ofo.com/ads/ - reject
^https?://activity2.api.ofo.com/ofo/Api/v2/ads - reject
# - Others header
^https?://overseas.weico.cc/portal.php\?a=get_coopen_ads - reject
^https?://counter.ksosoft.com/ad.php - reject
^https?://mobile-pic.cache.iciba.com/feeds_ad/ - reject
^https?://img.jiemian.com/ads/ - reject
^https?://www.zhihu.com/api/v4/community-ad/ - reject
^https?://sdk.99shiji.com/ad/ - reject
^https?://app.58.com/api/log/ - reject
^https?://cdn.api.fotoable.com/Advertise/ - reject
^https?://edit.sinaapp.com/ua\?t=adv - reject
^https?://huichuan.sm.cn/jsad - reject
^https?://iflow.uczzd.cn/log/ - reject
^https?://gw.aihuishou.com/app-portal/home/getadvertisement - reject
^https?://www.facebook.com/.+video_click_to_advertiser_site - reject

[Header Rewrite]
http-request ^https?:\/\/.*\.zhihu\.com\/(question|topic) header-replace User-Agent "osee2unifiedRelease/4432 osee2unifiedReleaseVersion/7.8.0 Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mo    bile/15E148"

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = www.google.cn, api.abema.io, *.zhihu.com, -CUSTOMMitM, sub.store

[Script]
# > Flush DNS, show the DNS delay and server.

[Panel]
flushDNS = script-name=flushDNS,update-interval=-1
